2025-09-04 09:52:25,498 - INFO - composites.py:102 - #######################################################################
2025-09-04 09:52:25,498 - INFO - composites.py:104 - Processing started
2025-09-04 09:52:25,498 - INFO - composites.py:105 -         Tile: x11_y08
2025-09-04 09:52:25,498 - INFO - composites.py:106 -         Time: 2025-07
2025-09-04 09:52:25,498 - INFO - composites.py:109 -                           
2025-09-04 09:52:25,498 - INFO - composites.py:110 - Establishing connection to datacube
2025-09-04 09:52:26,025 - INFO - composites.py:113 -                           
2025-09-04 09:52:26,026 - INFO - composites.py:114 - Sanity test: Check if dataset already exists in the datacube
2025-09-04 09:52:26,046 - INFO - composites.py:133 - The composite requested was not found and it will be computed
2025-09-04 09:52:26,046 - INFO - composites.py:136 -                                  
2025-09-04 09:52:26,046 - INFO - composites.py:137 - Initializing Dask cluster for parallelization
2025-09-04 09:52:31,034 - INFO - composites.py:161 - Dask dashboard is available at: http://127.0.0.1:8787/status
2025-09-04 09:52:31,034 - INFO - composites.py:164 - Create directories and naming conversions
2025-09-04 09:52:31,047 - INFO - composites.py:177 - Dataset location: //nas-rs.topo.auth.gr/Latomeia/DROUGHT/composites/x11/y08/2025/07/01
2025-09-04 09:52:31,047 - INFO - composites.py:180 -                           
2025-09-04 09:52:31,047 - INFO - composites.py:181 - Retrieve tile geometry
2025-09-04 09:52:31,075 - INFO - composites.py:192 - Create the Bounding Box (φ,λ)
2025-09-04 09:52:31,075 - INFO - composites.py:198 - Create the Bounding Box (x,y)
2025-09-04 09:52:31,075 - INFO - composites.py:211 -                           
2025-09-04 09:52:31,075 - INFO - composites.py:212 - Connect to Planetary Computer STAC Catalog
2025-09-04 09:52:31,328 - INFO - composites.py:220 - Search the STAC Catalog
2025-09-04 09:52:31,409 - INFO - composites.py:232 -         Query parameters:
2025-09-04 09:52:31,409 - INFO - composites.py:233 -             url:          https://planetarycomputer.microsoft.com/api/stac/v1/search
2025-09-04 09:52:31,409 - INFO - composites.py:234 -             client:       microsoft-pc
2025-09-04 09:52:31,409 - INFO - composites.py:235 -             collection:   sentinel-2-l2a
2025-09-04 09:52:31,409 - INFO - composites.py:236 -             bbox:         (22.845662885042927, 36.78779644280391, 23.507450073915326, 37.34127558081356)
2025-09-04 09:52:31,409 - INFO - composites.py:237 -             time range:   2025-07-01T00:00:00Z/2025-07-31T23:59:59Z
2025-09-04 09:52:31,409 - INFO - composites.py:238 -             cloud cover:  0% - 70%
2025-09-04 09:52:31,409 - INFO - composites.py:239 -             nodata cover: 0% - 33%
2025-09-04 09:52:31,409 - INFO - composites.py:241 -                           
2025-09-04 09:52:31,409 - INFO - composites.py:242 - Searching...
2025-09-04 09:52:32,186 - INFO - composites.py:245 - Query found 55 items
2025-09-04 09:52:32,186 - INFO - composites.py:247 - Searching for GRI REFINED scenes:
2025-09-04 09:52:39,282 - INFO - sentinel2.py:78 - 1/55 - S2B_MSIL2A_20250731T092029_R093_T34SFG_20250731T115523 -> REFINED
2025-09-04 09:52:45,881 - INFO - sentinel2.py:78 - 2/55 - S2B_MSIL2A_20250731T092029_R093_T34SFF_20250731T115523 -> REFINED
2025-09-04 09:52:51,787 - INFO - sentinel2.py:78 - 3/55 - S2A_MSIL2A_20250728T092231_R093_T34SFG_20250728T111018 -> REFINED
2025-09-04 09:52:58,340 - INFO - sentinel2.py:78 - 4/55 - S2A_MSIL2A_20250728T092231_R093_T34SFF_20250728T111018 -> REFINED
2025-09-04 09:53:06,302 - INFO - sentinel2.py:78 - 5/55 - S2B_MSIL2A_20250728T090559_R050_T34SGG_20250728T101128 -> REFINED
2025-09-04 09:53:14,740 - INFO - sentinel2.py:78 - 6/55 - S2B_MSIL2A_20250728T090559_R050_T34SGF_20250728T101128 -> REFINED
2025-09-04 09:53:22,009 - INFO - sentinel2.py:78 - 7/55 - S2B_MSIL2A_20250728T090559_R050_T34SFG_20250728T101128 -> REFINED
2025-09-04 09:53:28,446 - INFO - sentinel2.py:78 - 8/55 - S2B_MSIL2A_20250728T090559_R050_T34SFF_20250728T101128 -> REFINED
2025-09-04 09:53:34,152 - INFO - sentinel2.py:78 - 9/55 - S2C_MSIL2A_20250726T092051_R093_T34SFG_20250726T125415 -> REFINED
2025-09-04 09:53:40,551 - INFO - sentinel2.py:78 - 10/55 - S2C_MSIL2A_20250726T092051_R093_T34SFF_20250726T125415 -> REFINED
2025-09-04 09:53:47,514 - INFO - sentinel2.py:78 - 11/55 - S2A_MSIL2A_20250725T091041_R050_T34SGG_20250725T131619 -> REFINED
2025-09-04 09:53:53,497 - INFO - sentinel2.py:78 - 12/55 - S2A_MSIL2A_20250725T091041_R050_T34SGF_20250725T131619 -> REFINED
2025-09-04 09:54:01,517 - INFO - sentinel2.py:78 - 13/55 - S2A_MSIL2A_20250725T091041_R050_T34SFG_20250725T131619 -> REFINED
2025-09-04 09:54:08,510 - INFO - sentinel2.py:78 - 14/55 - S2A_MSIL2A_20250725T091041_R050_T34SFF_20250725T131619 -> REFINED
2025-09-04 09:54:15,286 - INFO - sentinel2.py:78 - 15/55 - S2C_MSIL2A_20250723T090621_R050_T34SGG_20250723T125814 -> REFINED
2025-09-04 09:54:22,997 - INFO - sentinel2.py:78 - 16/55 - S2C_MSIL2A_20250723T090621_R050_T34SGF_20250723T122213 -> REFINED
2025-09-04 09:54:30,178 - INFO - sentinel2.py:78 - 17/55 - S2C_MSIL2A_20250723T090621_R050_T34SFF_20250723T122213 -> REFINED
2025-09-04 09:54:37,141 - INFO - sentinel2.py:78 - 18/55 - S2B_MSIL2A_20250721T092029_R093_T34SFG_20250721T120259 -> REFINED
2025-09-04 09:54:43,621 - INFO - sentinel2.py:78 - 19/55 - S2B_MSIL2A_20250721T092029_R093_T34SFF_20250721T120259 -> REFINED
2025-09-04 09:54:49,546 - INFO - sentinel2.py:78 - 20/55 - S2A_MSIL2A_20250718T092051_R093_T34SFG_20250718T125020 -> REFINED
2025-09-04 09:54:55,782 - INFO - sentinel2.py:78 - 21/55 - S2A_MSIL2A_20250718T092051_R093_T34SFF_20250718T125020 -> REFINED
2025-09-04 09:55:02,939 - INFO - sentinel2.py:78 - 22/55 - S2B_MSIL2A_20250718T090559_R050_T34SGG_20250718T120206 -> REFINED
2025-09-04 09:55:10,137 - INFO - sentinel2.py:78 - 23/55 - S2B_MSIL2A_20250718T090559_R050_T34SGF_20250718T120206 -> REFINED
2025-09-04 09:55:17,037 - INFO - sentinel2.py:78 - 24/55 - S2B_MSIL2A_20250718T090559_R050_T34SFG_20250718T120206 -> REFINED
2025-09-04 09:55:23,863 - INFO - sentinel2.py:78 - 25/55 - S2B_MSIL2A_20250718T090559_R050_T34SFF_20250718T120206 -> REFINED
2025-09-04 09:55:29,680 - INFO - sentinel2.py:78 - 26/55 - S2C_MSIL2A_20250716T092051_R093_T34SFG_20250716T143214 -> REFINED
2025-09-04 09:55:37,012 - INFO - sentinel2.py:78 - 27/55 - S2C_MSIL2A_20250716T092051_R093_T34SFF_20250716T143214 -> REFINED
2025-09-04 09:55:43,548 - INFO - sentinel2.py:78 - 28/55 - S2A_MSIL2A_20250715T091331_R050_T34SGG_20250715T105310 -> REFINED
2025-09-04 09:55:50,212 - INFO - sentinel2.py:78 - 29/55 - S2A_MSIL2A_20250715T091331_R050_T34SGF_20250715T105310 -> REFINED
2025-09-04 09:55:56,685 - INFO - sentinel2.py:78 - 30/55 - S2A_MSIL2A_20250715T091331_R050_T34SFG_20250715T105310 -> REFINED
2025-09-04 09:56:03,949 - INFO - sentinel2.py:78 - 31/55 - S2A_MSIL2A_20250715T091331_R050_T34SFF_20250715T105310 -> REFINED
2025-09-04 09:56:11,326 - INFO - sentinel2.py:78 - 32/55 - S2C_MSIL2A_20250713T090621_R050_T34SGG_20250713T130516 -> REFINED
2025-09-04 09:56:17,697 - INFO - sentinel2.py:78 - 33/55 - S2C_MSIL2A_20250713T090621_R050_T34SGF_20250713T123014 -> REFINED
2025-09-04 09:56:24,638 - INFO - sentinel2.py:78 - 34/55 - S2C_MSIL2A_20250713T090621_R050_T34SFG_20250713T130516 -> REFINED
2025-09-04 09:56:31,050 - INFO - sentinel2.py:78 - 35/55 - S2C_MSIL2A_20250713T090621_R050_T34SFF_20250713T123014 -> REFINED
2025-09-04 09:56:38,104 - INFO - sentinel2.py:78 - 36/55 - S2B_MSIL2A_20250711T092029_R093_T34SFG_20250711T114113 -> REFINED
2025-09-04 09:56:45,122 - INFO - sentinel2.py:78 - 37/55 - S2B_MSIL2A_20250711T092029_R093_T34SFF_20250711T114113 -> REFINED
2025-09-04 09:56:52,617 - INFO - sentinel2.py:78 - 38/55 - S2A_MSIL2A_20250708T092231_R093_T34SFG_20250708T124914 -> REFINED
2025-09-04 09:57:01,516 - INFO - sentinel2.py:78 - 39/55 - S2A_MSIL2A_20250708T092231_R093_T34SFF_20250708T124914 -> REFINED
2025-09-04 09:57:08,542 - INFO - sentinel2.py:78 - 40/55 - S2B_MSIL2A_20250708T090559_R050_T34SGG_20250708T113616 -> REFINED
2025-09-04 09:57:15,782 - INFO - sentinel2.py:78 - 41/55 - S2B_MSIL2A_20250708T090559_R050_T34SGF_20250708T113616 -> REFINED
2025-09-04 09:57:21,531 - INFO - sentinel2.py:78 - 42/55 - S2B_MSIL2A_20250708T090559_R050_T34SFG_20250708T113616 -> REFINED
2025-09-04 09:57:27,948 - INFO - sentinel2.py:78 - 43/55 - S2B_MSIL2A_20250708T090559_R050_T34SFF_20250708T113616 -> REFINED
2025-09-04 09:57:33,877 - INFO - sentinel2.py:78 - 44/55 - S2C_MSIL2A_20250706T092051_R093_T34SFG_20250706T131358 -> REFINED
2025-09-04 09:57:40,492 - INFO - sentinel2.py:78 - 45/55 - S2C_MSIL2A_20250706T092051_R093_T34SFF_20250706T131358 -> REFINED
2025-09-04 09:57:47,682 - INFO - sentinel2.py:78 - 46/55 - S2A_MSIL2A_20250705T091041_R050_T34SGG_20250705T111415 -> REFINED
2025-09-04 09:57:54,153 - INFO - sentinel2.py:78 - 47/55 - S2A_MSIL2A_20250705T091041_R050_T34SGF_20250705T111415 -> REFINED
2025-09-04 09:58:00,947 - INFO - sentinel2.py:78 - 48/55 - S2A_MSIL2A_20250705T091041_R050_T34SFG_20250705T111415 -> REFINED
2025-09-04 09:58:07,422 - INFO - sentinel2.py:78 - 49/55 - S2A_MSIL2A_20250705T091041_R050_T34SFF_20250705T111415 -> REFINED
2025-09-04 09:58:13,098 - INFO - sentinel2.py:78 - 50/55 - S2C_MSIL2A_20250703T090621_R050_T34SGG_20250703T145718 -> REFINED
2025-09-04 09:58:19,829 - INFO - sentinel2.py:78 - 51/55 - S2C_MSIL2A_20250703T090621_R050_T34SGF_20250703T145718 -> REFINED
2025-09-04 09:58:26,499 - INFO - sentinel2.py:78 - 52/55 - S2C_MSIL2A_20250703T090621_R050_T34SFG_20250703T145718 -> REFINED
2025-09-04 09:58:32,907 - INFO - sentinel2.py:78 - 53/55 - S2C_MSIL2A_20250703T090621_R050_T34SFF_20250703T145718 -> REFINED
2025-09-04 09:58:39,744 - INFO - sentinel2.py:78 - 54/55 - S2B_MSIL2A_20250701T092029_R093_T34SFG_20250701T115535 -> REFINED
2025-09-04 09:58:45,509 - INFO - sentinel2.py:78 - 55/55 - S2B_MSIL2A_20250701T092029_R093_T34SFF_20250701T115535 -> REFINED
2025-09-04 09:58:45,572 - INFO - composites.py:250 -                                  
2025-09-04 09:58:45,573 - INFO - composites.py:251 - 55/55 were refined by GRI.
2025-09-04 09:58:45,573 - INFO - composites.py:263 - Looking for up to 10 cleanest images within spatiotemporal range of each MGRS tile
2025-09-04 09:58:45,573 - INFO - composites.py:277 - Filtered cleanest scenes: Kept 38 out of 55 items. 
2025-09-04 09:58:45,573 - INFO - composites.py:278 -         Included MGRS Tiles: ['34SFF' '34SFG' '34SGF' '34SGG']
2025-09-04 09:58:45,574 - INFO - composites.py:279 -         Included EPSG codes: [32634]
2025-09-04 09:58:45,574 - INFO - composites.py:281 - Selected scenes:
2025-09-04 09:58:45,595 - INFO - composites.py:283 -         S2A_MSIL2A_20250705T091041_R050_T34SFF_20250705T111415
2025-09-04 09:58:45,595 - INFO - composites.py:283 -         S2A_MSIL2A_20250725T091041_R050_T34SFF_20250725T131619
2025-09-04 09:58:45,595 - INFO - composites.py:283 -         S2C_MSIL2A_20250713T090621_R050_T34SFF_20250713T123014
2025-09-04 09:58:45,595 - INFO - composites.py:283 -         S2C_MSIL2A_20250723T090621_R050_T34SFF_20250723T122213
2025-09-04 09:58:45,600 - INFO - composites.py:283 -         S2A_MSIL2A_20250715T091331_R050_T34SFF_20250715T105310
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250728T090559_R050_T34SFF_20250728T101128
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250703T090621_R050_T34SFF_20250703T145718
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250708T090559_R050_T34SFF_20250708T113616
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250726T092051_R093_T34SFF_20250726T125415
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250718T090559_R050_T34SFF_20250718T120206
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250725T091041_R050_T34SFG_20250725T131619
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250713T090621_R050_T34SFG_20250713T130516
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250708T090559_R050_T34SFG_20250708T113616
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250715T091331_R050_T34SFG_20250715T105310
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250705T091041_R050_T34SFG_20250705T111415
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250718T090559_R050_T34SFG_20250718T120206
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250728T090559_R050_T34SFG_20250728T101128
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250703T090621_R050_T34SFG_20250703T145718
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250726T092051_R093_T34SFG_20250726T125415
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250728T092231_R093_T34SFG_20250728T111018
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250713T090621_R050_T34SGF_20250713T123014
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250718T090559_R050_T34SGF_20250718T120206
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250723T090621_R050_T34SGF_20250723T122213
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250708T090559_R050_T34SGF_20250708T113616
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250728T090559_R050_T34SGF_20250728T101128
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250725T091041_R050_T34SGF_20250725T131619
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250715T091331_R050_T34SGF_20250715T105310
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250705T091041_R050_T34SGF_20250705T111415
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250703T090621_R050_T34SGF_20250703T145718
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250718T090559_R050_T34SGG_20250718T120206
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250708T090559_R050_T34SGG_20250708T113616
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250723T090621_R050_T34SGG_20250723T125814
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2B_MSIL2A_20250728T090559_R050_T34SGG_20250728T101128
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250725T091041_R050_T34SGG_20250725T131619
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250705T091041_R050_T34SGG_20250705T111415
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2A_MSIL2A_20250715T091331_R050_T34SGG_20250715T105310
2025-09-04 09:58:45,601 - INFO - composites.py:283 -         S2C_MSIL2A_20250703T090621_R050_T34SGG_20250703T145718
2025-09-04 09:58:45,602 - INFO - composites.py:283 -         S2C_MSIL2A_20250713T090621_R050_T34SGG_20250713T130516
2025-09-04 09:58:46,073 - INFO - sentinel2.py:154 - Matplotlib backend: Agg
2025-09-04 09:58:46,326 - INFO - sentinel2.py:224 - Write input scenes footprint overlay: //nas-rs.topo.auth.gr/Latomeia/DROUGHT/composites/x11/y08/2025/07/01/S2L2A_medcomp_x11y08_202507_InDataFootprint.jpeg
2025-09-04 09:58:46,641 - INFO - composites.py:297 -                                  
2025-09-04 09:58:46,641 - INFO - composites.py:298 - Downstream STAC items from Planetary Computer
2025-09-04 09:58:46,641 - INFO - timeseries_processing.py:115 -                                  
2025-09-04 09:58:46,641 - INFO - timeseries_processing.py:116 - Loading bands of diferent resolutions in EPSG:32634
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:120 -     Filtering items with native UTM EPSG:32634
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:122 -     38 Items in EPSG:32634
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:129 -                        
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:130 -     Loading parameters:
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:131 -         Bands: ['B05', 'B07', 'B8A', 'SCL']
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:132 -         Spatial resolution: 20
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:134 -         Get Assets from STAC Items
2025-09-04 09:58:46,642 - INFO - timeseries_processing.py:47 -         Initialize the STAC client
2025-09-04 09:58:47,600 - INFO - timeseries_processing.py:137 -         Loading 38 STAC Items....
2025-09-04 10:00:47,837 - INFO - composites.py:489 - Closing Dask client
2025-09-04 10:00:47,838 - ERROR - base_events.py:1826 - Task exception was never retrieved
future: <Task finished name='Task-198866' coro=<Client._gather.<locals>.wait() done, defined at C:\Users\fotakidis\anaconda3\envs\drought\Lib\site-packages\distributed\client.py:2371> exception=AllExit()>
Traceback (most recent call last):
  File "C:\Users\fotakidis\anaconda3\envs\drought\Lib\site-packages\distributed\client.py", line 2380, in wait
    raise AllExit()
distributed.client.AllExit
2025-09-04 10:00:47,839 - ERROR - base_events.py:1826 - Task exception was never retrieved
future: <Task finished name='Task-198863' coro=<Client._gather.<locals>.wait() done, defined at C:\Users\fotakidis\anaconda3\envs\drought\Lib\site-packages\distributed\client.py:2371> exception=AllExit()>
Traceback (most recent call last):
  File "C:\Users\fotakidis\anaconda3\envs\drought\Lib\site-packages\distributed\client.py", line 2380, in wait
    raise AllExit()
distributed.client.AllExit
2025-09-04 10:00:47,856 - INFO - composites.py:493 - Closing Dask cluster
2025-09-04 10:00:47,856 - INFO - composites.py:494 - #######################################################################
